---
// src/pages/index.astro
import Layout from '../layouts/Layout.astro';

// CHEMINS D'IMAGES DIRECTEMENT DEPUIS PUBLIC/
const heroSlides = ["/sous.jpg", "/sous1.jpg", "/sous2.jpg"]; 
const beforeAfterPairs = [
    { before: "/before1a.jpg", after: "/after1a.jpg", desc: "Traitement standard (30 min)" },
    { before: "/before2b.jpg", after: "/after2b.jpg", desc: "Traitement intensif (60 min)" },
];
---

<Layout title="Shine Clinic – Accueil" description="Blanchiment dentaire professionnel pour un sourire éclatant et durable.">

<style>
    /* *** Styles de index.astro (inchangés depuis la dernière correction du slider) ***
    */
    
    /* --- TITRES --- */
    .section-title {
        font-weight: 700;
        font-size: 40px; 
        color: var(--color-text-title);
        text-align: center;
        margin-bottom: 10px;
        letter-spacing: -0.7px;
    }
    .section-sub {
        text-align: center;
        max-width: 800px;
        margin: 0 auto 60px; 
        font-size: 19px;
        color: var(--color-text-body);
        opacity: 0.8;
    }

    /* --- HERO --- */
    #hero {
        padding: var(--section-padding-y) 0;
        background: var(--color-secondary-bg); 
    }
    .hero-slider {
        height: 500px; 
        border-radius: 16px;
        overflow: hidden;
        position: relative; 
        box-shadow: 0 10px 30px rgba(60, 115, 255, 0.15);
        max-width: var(--max-width);
        margin: 0 auto;
    }
    .hero-slide { 
        position: absolute; 
        inset: 0;
        opacity: 0;
        transition: opacity 0.7s ease;
        z-index: 1; 
    }
    .hero-slide.active {
        opacity: 1;
    }
    .hero-slider img {
        width: 100%; height: 100%; object-fit: cover;
    }
    .hero-overlay {
        position: absolute; 
        inset: 0; 
        padding: 60px; 
        background: linear-gradient(
            to right, rgba(255, 255, 255, 0.95) 30%, rgba(255, 255, 255, 0.7) 60%, transparent
        );
        display: flex; 
        align-items: center;
        z-index: 10; 
    }
    .hero-title { font-size: 44px; margin-bottom: 12px; line-height: 1.1; max-width: 500px; }
    .hero-subtitle { font-size: 18px; margin-bottom: 30px; max-width: 450px; opacity: 0.85; }
    .hero-btns { display: flex; gap: 16px; flex-wrap: wrap; }


    /* --- POURQUOI NOUS (#pourquoi) --- */
    #pourquoi {
        padding: var(--section-padding-y) var(--section-padding-x); 
    }
    .why-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 30px; 
    }
    .why-card {
        background: white; padding: 30px; border-radius: 12px;
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.05); transition: transform 0.3s ease;
    }
    .why-card:hover { transform: translateY(-5px); box-shadow: 0 15px 35px rgba(60, 115, 255, 0.1); }
    .why-card h3 { font-size: 20px; margin-bottom: 8px; }

    /* --- AVANT / APRÈS --- */
    #avant-apres {
        padding: var(--section-padding-y) var(--section-padding-x);
        background: var(--color-secondary-bg); 
    }
    .ba-gallery-grid {
        display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 30px; margin-top: 40px;
    }
    .ba-gallery-card { border-radius: 12px; overflow: hidden; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08); text-align: center; }
    .ba-image-container { position: relative; height: 300px; overflow: hidden; }
    .ba-image-container img {
        width: 50%; height: 100%; object-fit: cover; position: absolute;
        transition: transform 0.5s ease, width 0.5s ease;
    }
    .ba-image-container .img-before { left: 0; }
    .ba-image-container .img-after { right: 0; }
    .ba-gallery-card:hover .img-before { transform: translateX(-100%); }
    .ba-gallery-card:hover .img-after { width: 100%; }
    .ba-card-info { padding: 15px 20px; background: white; border-top: 1px solid var(--color-secondary-bg); }
    .ba-card-info h3 { font-size: 18px; font-weight: 700; }
    .ba-card-info p { font-size: 14px; color: var(--color-primary); margin-top: 4px; }


    /* --- CONTACT --- */
    #contact {
        padding: var(--section-padding-y) var(--section-padding-x);
        text-align: center;
    }
    .contact-text { font-size: 18px; max-width: 600px; margin: 0 auto 30px; opacity: 0.9; }
    .contact-actions { display: flex; justify-content: center; gap: 16px; margin-bottom: 20px; }

</style>


<section id="hero">
    <div class="section-inner">
        <div class="hero-slider">
            
            <div class="hero-overlay">
                <div>
                    <h1 class="hero-title">Le Blanchiment Dentaire Professionnel pour un Sourire Éclatant.</h1>
                    <p class="hero-subtitle">
                        Révélez votre sourire le plus lumineux. Nous vous garantissons un soin rapide, sûr et des résultats spectaculaires dès la première séance.
                    </p>
                    <div class="hero-btns">
                        <a href="#contact" class="btn-primary">Prendre rendez-vous</a>
                        <a href="#avant-apres" class="btn-ghost">Voir nos résultats</a>
                    </div>
                </div>
            </div>
            
            {heroSlides.map((img, index) => (
                <div class={`hero-slide ${index === 0 ? "active" : ""}`}> 
                    <img src={img} alt={`Sourire éclatant ${index + 1}`} />
                </div>
            ))}
        </div>
    </div>
</section>

<section id="pourquoi">
    <div class="section-inner">
        <h2 class="section-title">L'excellence au Service de Votre Sourire</h2>
        <p class="section-sub">
            Notre protocole est conçu pour une efficacité maximale tout en assurant le confort et la sécurité de vos dents.
        </p>
        <div class="why-grid">
            <div class="why-card">
                <h3>Sûreté & Douceur</h3>
                Nos produits sont élaborés pour être doux, minimisant la sensibilité et assurant la protection de votre émail.
            </div>
            <div class="why-card">
                <h3>Expertise Professionnelle</h3>
                Bénéficiez d'un protocole avancé, maîtrisé par nos spécialistes, pour des résultats homogènes et fiables.
            </div>
            <div class="why-card">
                <h3>Résultats Immédiats & Durables</h3>
                Obtenez un éclaircissement visible dès la première séance, avec un impact durable sur l'éclat de votre sourire.
            </div>
        </div>
    </div>
</section>

<section id="avant-apres">
    <div class="section-inner">
        <h2 class="section-title">Nos Transformations</h2>
        <p class="section-sub">
            Découvrez l'effet de nos soins. Faites glisser votre souris sur les images pour voir le résultat.
        </p>
        
        <div class="ba-gallery-grid">
            {beforeAfterPairs.map(pair => (
                <div class="ba-gallery-card">
                    <div class="ba-image-container">
                        <img src={pair.before} class="img-before" alt="Avant Blanchiment" />
                        <img src={pair.after} class="img-after" alt="Après Blanchiment" />
                    </div>
                    <div class="ba-card-info">
                        <h3>Résultat Garanti</h3>
                        <p>{pair.desc}</p>
                    </div>
                </div>
            ))}
        </div>
    </div>
</section>

<section id="contact">
    <div class="section-inner">
        <h2 class="section-title">Réservez votre Moment Shine</h2>
        <p class="contact-text">
            Prêt(e) à révéler l'éclat de votre sourire ? Prenez rendez-vous directement en ligne.
        </p>
        <div class="contact-actions">
            <a
                class="btn-primary"
                target="_blank"
                href="https://calendly.com/shineclinic/seance-de-blanchiment-dentaire"
            >
                Réserver en ligne
            </a>
            <a
                class="btn-ghost"
                target="_blank"
                href="https://www.instagram.com/shine_clinic_instagram/"
            >
                Écrivez-nous sur Instagram
            </a>
        </div>
    </div>
</section>

<script is:inline>
    const slides = document.querySelectorAll(".hero-slide");
    let index = 0;
    
    function showSlide(i) {
        slides.forEach((s, idx) => s.classList.toggle("active", idx === i));
    }
    
    if (slides.length > 0) {
        showSlide(0);
        setInterval(() => {
            index = (index + 1) % slides.length;
            showSlide(index);
        }, 6000);
    }
</script>

</Layout>






