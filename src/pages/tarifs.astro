---
// src/pages/tarifs.astro
import Layout from "../layouts/Layout.astro";

const pricingPlans = [
  {
    name: "Soin Découverte",
    price: "79€",
    duration: "30 min",
    description:
      "Idéal pour une première expérience ou un entretien rapide du sourire.",
    features: [
      "Évaluation dentaire",
      "Blanchiment express (30 min)",
      "Protocole doux",
      "Jusqu’à 4 teintes gagnées",
    ],
    isPopular: false,
  },
  {
    name: "Soin Signature",
    price: "129€",
    duration: "60 min",
    description:
      "Notre soin complet pour un résultat maximal, homogène et durable.",
    features: [
      "Diagnostic personnalisé",
      "Blanchiment intensif (60 min)",
      "Gel reminéralisant",
      "Jusqu’à 8 teintes gagnées",
      "Kit d’entretien offert",
    ],
    isPopular: true,
  },
  {
    name: "Forfait Éclat Annuel",
    price: "199€",
    duration: "3 soins / an",
    description:
      "Pour conserver un sourire éclatant toute l’année.",
    features: [
      "1 Soin Signature",
      "2 soins d’entretien",
      "Résultats durables",
      "Priorité de réservation",
    ],
    isPopular: false,
  },
];

const faq = [
  {
    question: "Le blanchiment est-il douloureux ?",
    answer:
      "Non. Nos protocoles sont conçus pour minimiser la sensibilité. Une légère gêne temporaire peut apparaître mais reste rare.",
  },
  {
    question: "Combien de temps durent les résultats ?",
    answer:
      "Entre 6 et 12 mois selon votre hygiène de vie. Des soins d’entretien permettent de prolonger la blancheur.",
  },
  {
    question: "Y a-t-il des contre-indications ?",
    answer:
      "Les femmes enceintes ou allaitantes, ainsi que les personnes ayant des pathologies dentaires non traitées, ne sont pas éligibles.",
  },
];
---

<Layout title="Shine Clinic – Tarifs">

<style>
/* ================= HERO ================= */

.page-hero {
  padding: 70px 0 50px;
  background: var(--color-secondary-bg);
  text-align: center;
}

.page-hero h1 {
  font-size: 34px;
  margin-bottom: 12px;
}

.page-hero p {
  font-size: 16px;
  color: var(--color-text-light);
  max-width: 620px;
  margin: 0 auto;
}

/* ================= TARIFS ================= */

#tarifs {
  padding: var(--section-padding-y) 0;
}

.pricing-list {
  display: flex;
  flex-direction: column;
  gap: 28px;
  max-width: 720px;
  margin: 0 auto;
}

.plan-card {
  background: white;
  border-radius: 18px;
  padding: 28px;
  border: 1px solid var(--color-secondary-bg);
}

.plan-card h2 {
  font-size: 22px;
  margin-bottom: 4px;
}

.plan-duration {
  font-size: 14px;
  color: var(--color-text-light);
  margin-bottom: 16px;
}

.plan-price {
  font-size: 40px;
  font-weight: 700;
  color: var(--color-primary);
  margin-bottom: 16px;
}

.plan-card p {
  font-size: 15px;
  margin-bottom: 20px;
}

.plan-features {
  list-style: none;
  margin-bottom: 24px;
}

.plan-features li {
  font-size: 15px;
  padding: 6px 0;
  display: flex;
}

.plan-features li::before {
  content: "✔";
  color: var(--color-primary);
  margin-right: 8px;
}

.plan-card .btn-primary {
  width: 100%;
}

/* ================= FAQ ================= */

#faq {
  background: var(--color-secondary-bg);
  padding: var(--section-padding-y) 0;
}

.faq-title {
  text-align: center;
  font-size: 30px;
  margin-bottom: 36px;
}

.faq-list {
  max-width: 720px;
  margin: 0 auto;
}

.faq-item {
  background: white;
  border-radius: 14px;
  margin-bottom: 14px;
  padding: 18px 20px;
  cursor: pointer;
}

.faq-question {
  font-weight: 600;
  font-size: 16px;
  position: relative;
}

.faq-question::after {
  content: "+";
  position: absolute;
  right: 0;
}

.faq-item.active .faq-question::after {
  content: "−";
}

.faq-answer {
  display: none;
  margin-top: 10px;
  font-size: 15px;
  color: var(--color-text-body);
}

.faq-item.active .faq-answer {
  display: block;
}

/* ================= DESKTOP ================= */

@media (min-width: 900px) {

  .page-hero h1 {
    font-size: 48px;
  }

  .pricing-list {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 32px;
    max-width: var(--max-width);
  }

  .plan-card.is-popular {
    border-color: var(--color-primary);
    transform: translateY(-6px);
  }

  .plan-card.is-popular::before {
    content: "Recommandé";
    position: absolute;
    top: -14px;
    left: 24px;
    background: var(--color-primary);
    color: white;
    padding: 4px 12px;
    border-radius: 999px;
    font-size: 12px;
    font-weight: 600;
  }
}
</style>

<section class="page-hero">
  <div class="section-inner">
    <h1>Nos soins & tarifs</h1>
    <p>
      Des formules claires, transparentes et adaptées à vos besoins.
    </p>
  </div>
</section>

<section id="tarifs">
  <div class="section-inner pricing-list">
    {pricingPlans.map(plan => (
      <div class={`plan-card ${plan.isPopular ? "is-popular" : ""}`}>
        <h2>{plan.name}</h2>
        <div class="plan-duration">{plan.duration}</div>
        <div class="plan-price">{plan.price}</div>

        <p>{plan.description}</p>

        <ul class="plan-features">
          {plan.features.map(f => <li>{f}</li>)}
        </ul>

        <a href="/#contact" class="btn-primary">Réserver ce soin</a>
      </div>
    ))}
  </div>
</section>

<section id="faq">
  <div class="section-inner">
    <h2 class="faq-title">Questions fréquentes</h2>

    <div class="faq-list">
      {faq.map(item => (
        <div class="faq-item">
          <div class="faq-question">{item.question}</div>
          <div class="faq-answer">{item.answer}</div>
        </div>
      ))}
    </div>
  </div>
</section>

<script is:inline>
document.querySelectorAll(".faq-item").forEach(item => {
  item.addEventListener("click", () => {
    item.classList.toggle("active");
  });
});
</script>

</Layout>
